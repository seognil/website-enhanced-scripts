# å†²æµªæ‰©å±• ï¼ˆBilibili & YouTubeï¼‰

## è¯´æ˜

ä¸€éƒ¨åˆ†ç®€çŸ­çš„éœ€æ±‚ï¼Œæˆ‘ç›´æ¥ç”¨ JS + JSDoc æ¥å†™ï¼Œç”¨ [User JavaScript and CSS](https://chromewebstore.google.com/detail/user-javascript-and-css/nbhcbdghjpllgmfilhnhkllmkecfmpld) è¿™ä¸ªæ’ä»¶ç›´æ¥æ¥åŠ è½½

å¦ä¸€éƒ¨åˆ†åŠŸèƒ½é€æ¸å˜å¾—å¤æ‚çš„ä»£ç ï¼Œå·²ç»é‡æ„æˆ æ¨¡å—åŒ– + TS ç„¶å build çš„æ–¹å¼ï¼Œæ›´åŠ å¥½å¼€å‘ã€‚ç›®å‰é€æ¸é‡æ„ä¸­

åç»­æœ‰ç©ºå†è€ƒè™‘æ”¯æŒåˆ° Tampermonkey

ä¸»è¦ä»¥ Bilibili å’Œ YouTube æ‰©å±•åŠŸèƒ½ä¸ºä¸»

## ä»£ç 

### Bilibili ç‚¹èµç‡

- [bilibili-stat-ratio](./src/bilibili-like-ratio/)

ğŸš§ TODOï¼Œå‘å¸ƒåˆ° Tampermonkey

### å…¨å±€å”¯ä¸€æ’­æ”¾

Bilibiliã€YouTubeï¼Œå½“å‰æ’­æ”¾æ—¶è‡ªåŠ¨æš‚åœå…¶ä»–æ ‡ç­¾

ğŸš§ TODOï¼Œç›®å‰ BroadcastChannel ä»…æ”¯æŒåŒæºç«™ç‚¹ï¼Œåç»­è€ƒè™‘ç”¨ Tampermonkey å®ç°è·¨æº

### æ’­æ”¾åˆ—è¡¨è¿›åº¦æ¡

Bilibiliã€YouTubeï¼Œæ˜¾ç¤ºè¿›åº¦ï¼Œç‚¹å‡»å¤åˆ¶æ€»æ—¶é—´

- [bilibili-playlist](./src/bilibili-playlist-pb.js)

![YouTube Playlist Timer](./images/youtube-playlist-timer.png)

ğŸš§ TODOï¼Œä»£ç é‡æ„

### Bilibili å¢å¼º

- [bilibili-enhanced](./src/bilibili-enhanced.js)

override B ç«™çš„å¿«æ·é”®ï¼ˆä½¿å¤§éƒ¨åˆ†è§†é¢‘æ§åˆ¶é”®ä½é›†ä¸­åœ¨å·¦æ‰‹åŒºï¼Œä»¥æ–¹ä¾¿å•æ‰‹æ“ä½œï¼‰

- å¿«æ·é”®
  - `Cmd + Shift + s` å¤åˆ¶å½“å‰æˆªå›¾ç”»é¢
  - `Cmd + Shift + d` å¤åˆ¶è§†é¢‘å­—å¹•åˆ°å‰ªè´´æ¿ï¼ˆä»¥ä¾¿ ai è§£è¯»ï¼‰
  - `Cmd + Shift + c` å¤åˆ¶å¹²å‡€çš„è§†é¢‘é“¾æ¥ï¼ˆå»é™¤å¤šä½™å°å°¾å·´ï¼‰
  - `c` åˆ‡æ¢å­—å¹•æ˜¾ç¤º
  - `b` è½¯åˆ‡æ¢å¼¹å¹•ï¼ˆé€šè¿‡æ§åˆ¶å›¾å±‚çš„ `opacity`ï¼Œè€Œä¸æ˜¯ `display`ï¼Œè¿™æ ·èƒ½ä¿ç•™æ»šåŠ¨ä½ç½®è€Œä¸æ˜¯æ¸…ç©ºï¼‰
  - `t` ç½‘é¡µå…¨å±
  - `f` å±å¹•å…¨å±
  - `Backspace` ä»å¤´æ’­æ”¾
  - `Space` æ’­æ”¾æš‚åœ
  - `r` åˆ‡æ¢å•é›†å¾ªç¯
  - `q`, `ArrowLeft` å€’é€€ 1 ç§’
  - `e`, `ArrowRight` å‰è¿› 1 ç§’
  - `z` å˜é€Ÿ -0.125
  - `x` å˜é€Ÿ +0.125
  - `v` åˆ‡æ¢å˜é€Ÿ
- è‡ªåŠ¨åŒ–
  - è‡ªåŠ¨è¿æ’­è¡Œä¸ºï¼šå¦‚æœæ˜¯åˆ—è¡¨è§†é¢‘åˆ™è‡ªåŠ¨è¿æ’­ï¼Œå¦åˆ™å•é›†è§†é¢‘æ’­å®Œæš‚åœ

### YouTube å¢å¼º

[code](./src/youtube-enhanced.js)

- æ–°å¢çš„å¿«æ·é”®
  - `Cmd + Shift + s` å¤åˆ¶å½“å‰æˆªå›¾ç”»é¢
  - `Cmd + Shift + d` å¤åˆ¶å­—å¹•
  - `[`, `]` åˆ‡æ¢åˆ—è¡¨ä¸Šä¸‹é›†
  - `Backspace` ä»å¤´æ’­æ”¾
  - `q` å€’é€€ 1 ç§’
  - `e` å‰è¿› 1 ç§’
  - `z` å˜é€Ÿ -0.125
  - `x` å˜é€Ÿ +0.125
  - `v` åˆ‡æ¢å˜é€Ÿ
- è‡ªåŠ¨åŒ–
  - åˆå§‹è‡ªåŠ¨è®¾ç½®é«˜æ¸…æ™°åº¦

### utils

å°è£…äº†ä¸€äº›å·¥å…·å‡½æ•°

- [net-hook](./src/utils/net-hook.js)ï¼šç›‘å¬ fetch å’Œ xhr response
- [dom-observer](./src/utils/dom-observer.js)ï¼šå°è£… querySelector + MutationObserver
- [media-control](./src/utils/media-control.js)ï¼šå¸¸ç”¨éŸ³è§†é¢‘å…ƒç´ æ§åˆ¶åŠŸèƒ½
- [progress-bar for playlist](./src/utils/progress-bar.js)ï¼šæ’­æ”¾åˆ—è¡¨è¿›åº¦æ¡ç»„ä»¶
